{"version":3,"sources":["App.js","ScheduleChart.js","index.js"],"names":["App","_jsxs","className","children","_jsx","ScheduleChart","props","_useState","useState","_useState2","_slicedToArray","selectedDate","setSelectedDate","counts","data","reduce","acc","_ref","schedule_time","slot","item_date","time","d3","Date","L","D","useEffect","margin","width","height","svg","append","attr","concat","x","range","padding","domain","Object","keys","y","values","map","_ref2","call","selectAll","entries","enter","_ref3","_ref5","_ref6$","bandwidth","_ref7","_ref8$","_ref9","_ref9$","_Fragment","value","onChange","e","target","Array","from","Set","_ref10","date","id","rootElement","document","getElementById","createRoot","render","StrictMode"],"mappings":"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","file":"static/js/main.fb4584ff.chunk.js","sourcesContent":["import \"./styles.css\";\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <h1>Hello CodeSandbox</h1>\n      <h2>Start editing to see some magic happen!</h2>\n    </div>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport data from \"./data.json\";\n\nconst ScheduleChart = (props) => {\n  const [selectedDate, setSelectedDate] = useState(\"\");\n\n  // Filter data based on the selected date and count the number of scheduled meals for each time slot\n  const counts = data.reduce((acc, { schedule_time, slot, item_date }) => {\n    if (item_date === selectedDate) {\n      const time = d3.timeFormat(\"%I %p\")(new Date(schedule_time));\n      acc[time] = acc[time] || { L: 0, D: 0 };\n      acc[time][slot]++;\n    }\n    return acc;\n  }, {});\n  // Create a bar chart using D3.js\n  useEffect(() => {\n    const margin = { top: 20, right: 20, bottom: 30, left: 40 };\n    const width = 600 - margin.left - margin.right;\n    const height = 400 - margin.top - margin.bottom;\n    const svg = d3\n      .select(\"#chart\")\n      .append(\"svg\")\n      .attr(\"width\", width + margin.left + margin.right)\n      .attr(\"height\", height + margin.top + margin.bottom)\n      .append(\"g\")\n      .attr(\"transform\", `translate(${margin.left},${margin.top})`);\n\n    const x = d3\n      .scaleBand()\n      .range([0, width])\n      .padding(0.1)\n      .domain(Object.keys(counts));\n\n    const y = d3\n      .scaleLinear()\n      .range([height, 0])\n      .domain([0, d3.max(Object.values(counts).map(({ L, D }) => L + D))]);\n\n    svg\n      .append(\"g\")\n      .attr(\"transform\", `translate(0,${height})`)\n      .call(d3.axisBottom(x));\n\n    svg.append(\"g\").call(d3.axisLeft(y));\n\n    svg\n      .selectAll(\".bar\")\n      .data(Object.entries(counts))\n      .enter()\n      .append(\"rect\")\n      .attr(\"class\", \"bar\")\n      .attr(\"x\", ([time]) => x(time) || 0)\n      .attr(\"y\", ([, { L, D }]) => y(L + D))\n      .attr(\"width\", x.bandwidth())\n      .attr(\"height\", ([, { L, D }]) => height - y(L + D))\n      .attr(\"fill\", ({ [1]: { L, D } }) =>\n        L > 0 && D > 0 ? \"orange\" : L > 0 ? \"green\" : D > 0 ? \"blue\" : \"gray\"\n      );\n  }, [counts]);\n\n  // Render a date selector and update the chart on selection change\n  return (\n    <>\n      <select\n        value={selectedDate}\n        onChange={(e) => setSelectedDate(e.target.value)}\n      >\n        <option value=\"\">Select a date</option>\n        {Array.from(new Set(data.map(({ item_date }) => item_date))).map(\n          (date) => (\n            <option key={date} value={date}>\n              {date}\n            </option>\n          )\n        )}\n      </select>\n      <div id=\"chart\"></div>\n    </>\n  );\n};\n\nexport default ScheduleChart;\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\nimport ScheduleChart from \"./ScheduleChart\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n    <ScheduleChart />\n  </StrictMode>\n);\n"],"sourceRoot":""}